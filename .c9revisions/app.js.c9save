{"ts":1375188243755,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/**\n * Module dependencies.\n */\n\nvar express = require('express'),\n    routes = require('./routes'),\n    user = require('./routes/user'),\n    http = require('http'),\n    path = require('path'),\n    mongoose = require('mongoose');;\n\nvar app = express();\n\n// all environments\napp.set('port', process.env.PORT || 3000);\napp.set('views', __dirname + '/views');\napp.set('view engine', 'ejs');\napp.use(express.favicon());\napp.use(express.logger('dev'));\napp.use(express.bodyParser());\napp.use(express.methodOverride());\napp.use(app.router);\napp.use(require('less-middleware')(\n{\n    src: __dirname + '/public',\n    paths: [path.join(__dirname, 'public', 'stylesheets')]\n}));\napp.use(express.static(path.join(__dirname, 'public')));\n\n// development only\nif ('development' == app.get('env'))\n{\n    app.use(express.errorHandler());\n}\n\nvar server = http.createServer(app).listen(app.get('port'), function()\n{\n    console.log('Express server listening on port ' + app.get('port'));\n});\n\nvar io = require('socket.io').listen(server);\nserver.listen(process.env.PORT, process.env.IP);\n\n//routing\nvar api = require('./controllers/api.js');\napp.get('/new', api.new);\napp.get('/', api.index);\napp.get('/add/:team/:ammount', api.add);\napp.get('/sub/:team/:ammount', api.sub);\napp.get('/clear', api.clear);\n\n\n//db connection\nvar databaseSettings = require('./private/dbconnection.js');\nmongoose.connect(databaseSettings.dbconstring);\n\n\n//websockets\nio.sockets.on('connection', function(socket)\n{\n    socket.on('changes', function(game)\n    {\n        //socket.emit('update scores', {game: game});\n        socket.broadcast.emit('update scores',\n        {\n            game: game\n        });\n        socket.emit('update scores',\n        {\n            game: game\n        });\n\n    });\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":1764}]],"length":1764}
{"contributors":[],"silentsave":false,"ts":1375188320923,"patch":[[{"diffs":[[0,"ect("],[-1,"databaseSettings.dbconstring"],[1,"'mongodb://tcombs:ryanandtyler@dharma.mongohq.com:10066/ouwashers'"],[0,");\n\n"]],"start1":1380,"start2":1380,"length1":36,"length2":74}]],"length":1802,"saved":false}
{"ts":1375188338935,"patch":[[{"diffs":[[0,"ion\n"],[-1,"var databaseSettings = require('./private/dbconnection.js');\n"],[0,"mong"]],"start1":1302,"start2":1302,"length1":69,"length2":8}]],"length":1741,"saved":false}
{"contributors":[],"silentsave":false,"ts":1375203833325,"patch":[[{"diffs":[[0,"sockets\n"],[1,"io.configure(function () { \n  io.set(\"transports\", [\"xhr-polling\"]); \n  io.set(\"polling duration\", 10); \n});\n\n"],[0,"io.socke"]],"start1":1399,"start2":1399,"length1":16,"length2":126}]],"length":1851,"saved":false}
{"contributors":[],"silentsave":false,"ts":1375208860754,"patch":[[{"diffs":[[0,"sockets\n"],[1,"//config socket.io to run on long pulling because huroku doesnt support websockets yet\n"],[0,"io.confi"]],"start1":1399,"start2":1399,"length1":16,"length2":103}]],"length":1938,"saved":false}
