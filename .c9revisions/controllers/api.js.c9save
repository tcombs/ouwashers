{"ts":1375202345514,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var Game = require('../models/game.js');\n\nexports.index = function(req, res) {\n    Game.findOne(function(err, game) {\n        //res.setHeader('Access-Control-Allow-Origin','http://appName.userName.c9.io');\n        res.render('index', { teamOneScore: game.teamonescore, teamTwoScore: game.teamtwoscore });\n    });\n        \n    \n};\n\nexports.add = function(req, res) {\n    var team = parseInt(req.params.team);\n    var ammount = parseInt(req.params.ammount);\n    Game.findOne(function(err, game) {\n        if(team == 1)\n        {\n            game.teamonescore += ammount;\n        }\n        else if(team == 2)\n        {\n            game.teamtwoscore += ammount;\n        }\n        game.save(function() {\n            res.send(game);\n        });\n        \n    });\n};\n\nexports.sub = function(req, res) {\n    var team = parseInt(req.params.team);\n    var ammount = parseInt(req.params.ammount);\n    Game.findOne(function(err, game) {\n        if(team == 1)\n        {\n            game.teamonescore -= ammount;\n        }\n        else if(team == 2)\n        {\n            game.teamtwoscore -= ammount;\n        }\n        game.save(function() {\n            res.send(game);\n        });\n        \n    });\n};\n\nexports.new = function(req,res) {\n    Game.find({},function(err,docs) {\n        for (var i = 0; i < docs.length; i++) {\n            var doc = docs[i];\n            doc.remove();\n        }\n    });\n    new Game().save(function () {\n        res.redirect('/');\n    });\n    \n};\n\nexports.clear = function(req,res) {\n    Game.findOne(function(err, game) {\n        game.teamonescore =0;\n        game.teamtwoscore =0;\n        game.save(function() {\n            res.send(game);\n        });\n    });\n};\n\nexports.getGame = function(callback) {\n    Game.findOne(function(err, game) {\n        callback(game);\n    });\n};\n\n\n\n\n    \n"]],"start1":0,"start2":0,"length1":0,"length2":1802}]],"length":1802}
